# Сценарии вариантов использования

## UC7: Оформление заказа

### Основной сценарий
**Актёр**: Покупатель  
**Предусловия**: Пользователь авторизован, в корзине есть товары  
**Постусловия**: Заказ создан и отправлен на обработку  

**Основной поток**:
1. Покупатель переходит к оформлению заказа из корзины
2. Система отображает форму оформления заказа с товарами
3. Покупатель выбирает адрес доставки (существующий или вводит новый)
4. Покупатель выбирает способ доставки (курьер, самовывоз, почта)
5. Покупатель выбирает способ оплаты (карта, наличные, рассрочка)
6. Покупатель проверяет итоговую сумму заказа
7. Покупатель подтверждает заказ
8. Система создает заказ и отправляет подтверждение на email
9. Система перенаправляет на страницу успешного оформления

**Альтернативные потоки**:
- 3a. Адрес доставки не указан:
  - 3a1. Система требует ввести адрес доставки
  - 3a2. Покупатель вводит адрес
  - 3a3. Возврат к шагу 4
- 5a. Ошибка при оплате картой:
  - 5a1. Система отображает сообщение об ошибке
  - 5a2. Покупатель выбирает другой способ оплаты
  - 5a3. Возврат к шагу 6
- 7a. Товар закончился на складе:
  - 7a1. Система уведомляет о недоступности товара
  - 7a2. Покупатель удаляет товар или заменяет на аналогичный
  - 7a3. Возврат к шагу 6

## UC2: Поиск товаров

### Основной сценарий
**Актёр**: Гость, Покупатель  
**Предусловия**: Пользователь находится на сайте  
**Постусловия**: Отображены результаты поиска  

**Основной поток**:
1. Пользователь вводит поисковый запрос в строку поиска
2. Пользователь нажимает кнопку "Поиск" или Enter
3. Система обрабатывает запрос и ищет товары по названию, описанию, характеристикам
4. Система отображает результаты поиска с возможностью фильтрации
5. Пользователь просматривает результаты

**Альтернативные потоки**:
- 3a. Ничего не найдено:
  - 3a1. Система отображает сообщение "Товары не найдены"
  - 3a2. Система предлагает похожие товары или популярные категории
- 1a. Пустой поисковый запрос:
  - 1a1. Система отображает все товары или популярные категории

## UC16: Написание отзыва

### Основной сценарий
**Актёр**: Покупатель  
**Предусловия**: Пользователь авторизован и купил товар  
**Постусловия**: Отзыв сохранен и отправлен на модерацию  

**Основной поток**:
1. Покупатель переходит на страницу товара, который купил
2. Покупатель нажимает кнопку "Написать отзыв"
3. Система отображает форму написания отзыва
4. Покупатель выставляет рейтинг (1-5 звезд)
5. Покупатель заполняет текст отзыва
6. Покупатель указывает плюсы и минусы товара (опционально)
7. Покупатель загружает фотографии товара (опционально)
8. Покупатель нажимает "Отправить отзыв"
9. Система сохраняет отзыв со статусом "На модерации"
10. Система отображает сообщение об успешной отправке

**Альтернативные потоки**:
- 4a. Рейтинг не выставлен:
  - 4a1. Система требует выставить рейтинг
  - 4a2. Покупатель выставляет рейтинг
  - 4a3. Возврат к шагу 5
- 5a. Текст отзыва слишком короткий:
  - 5a1. Система требует написать более подробный отзыв
  - 5a2. Покупатель дополняет текст
  - 5a3. Возврат к шагу 6

## UC18: Управление каталогом

### Основной сценарий
**Актёр**: Администратор  
**Предусловия**: Администратор авторизован в админ-панели  
**Постусловия**: Каталог товаров обновлен  

**Основной поток**:
1. Администратор переходит в раздел "Управление каталогом"
2. Система отображает список товаров с возможностью поиска и фильтрации
3. Администратор выбирает действие (добавить, редактировать, удалить товар)
4. При добавлении/редактировании:
   - 4a. Администратор заполняет информацию о товаре
   - 4b. Администратор загружает изображения товара
   - 4c. Администратор указывает категорию и характеристики
   - 4d. Администратор устанавливает цену и наличие
5. Администратор сохраняет изменения
6. Система обновляет каталог и индексирует товар для поиска

**Альтернативные потоки**:
- 4a. Обязательные поля не заполнены:
  - 4a1. Система выделяет незаполненные поля
  - 4a2. Администратор заполняет поля
  - 4a3. Возврат к шагу 5
- 5a. Ошибка при сохранении:
  - 5a1. Система отображает сообщение об ошибке
  - 5a2. Администратор исправляет данные
  - 5a3. Возврат к шагу 5

## UC8: Отслеживание заказа

### Основной сценарий
**Актёр**: Покупатель  
**Предусловия**: Пользователь авторизован и имеет активные заказы  
**Постусловия**: Пользователь получил информацию о статусе заказа  

**Основной поток**:
1. Покупатель переходит в личный кабинет
2. Покупатель выбирает раздел "Мои заказы"
3. Система отображает список заказов с текущими статусами
4. Покупатель выбирает конкретный заказ для детального просмотра
5. Система отображает подробную информацию о заказе:
   - Состав заказа
   - Текущий статус
   - История изменений статуса
   - Трек-номер для отслеживания (если доступен)
6. Покупатель может перейти по ссылке к службе доставки для детального отслеживания

**Альтернативные потоки**:
- 3a. У пользователя нет заказов:
  - 3a1. Система отображает сообщение "У вас пока нет заказов"
  - 3a2. Система предлагает перейти к покупкам
- 5a. Информация о доставке недоступна:
  - 5a1. Система отображает только базовую информацию о заказе
  - 5a2. Система предлагает связаться с поддержкой для уточнения
