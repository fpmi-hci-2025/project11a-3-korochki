# Модель требований - Интернет-магазин ТехноМарт

## Структура требований: Действующее лицо → User Story → Use Case

---

## 1. Действующее лицо: Гость (Guest)

### 1.1 User Story: Поиск товаров

**Как** гость,  
**Я хочу** искать товары по различным параметрам,  
**Чтобы** найти нужный товар без необходимости регистрации.

**Use Cases:**
- UC1: Просмотр каталога
- UC2: Поиск товаров
- UC3: Фильтрация товаров
- UC4: Просмотр карточки товара
- UC5: Сравнение товаров

**Acceptance Criteria:**
- Поиск работает по названию, описанию и характеристикам
- Фильтры доступны по категориям, брендам, цене
- Результаты поиска отображаются в виде сетки/списка
- Можно сравнить до 5 товаров одновременно

---

### 1.2 User Story: Просмотр отзывов

**Как** гость,  
**Я хочу** читать отзывы о товарах,  
**Чтобы** принять информированное решение о покупке.

**Use Cases:**
- UC15: Чтение отзывов

**Acceptance Criteria:**
- Отзывы отображаются с рейтингом и датой
- Можно сортировать отзывы по полезности и дате
- Отображаются фото от покупателей
- Можно фильтровать отзывы по рейтингу

---

### 1.3 User Story: Регистрация в системе

**Как** гость,  
**Я хочу** зарегистрироваться в системе,  
**Чтобы** получить доступ к дополнительным функциям.

**Use Cases:**
- UC11: Регистрация

**Acceptance Criteria:**
- Регистрация через email с подтверждением
- Проверка уникальности email
- Валидация пароля (минимум 8 символов)
- Опциональная авторизация через социальные сети

---

## 2. Действующее лицо: Покупатель (Customer)

### 2.1 User Story: Управление корзиной

**Как** покупатель,  
**Я хочу** добавлять товары в корзину и управлять ими,  
**Чтобы** сохранить выбранные товары для последующей покупки.

**Use Cases:**
- UC6: Добавление в корзину

**Acceptance Criteria:**
- Можно добавить товар в корзину с выбором количества
- Корзина сохраняется между сеансами
- Можно изменить количество товара в корзине
- Можно удалить товар из корзины
- Отображается общая сумма заказа

---

### 2.2 User Story: Оформление заказа

**Как** покупатель,  
**Я хочу** оформить заказ с выбором доставки и оплаты,  
**Чтобы** получить выбранные товары.

**Use Cases:**
- UC7: Оформление заказа
- UC22: Выбор способа доставки

**Acceptance Criteria:**
- Выбор адреса доставки (новый или сохраненный)
- Выбор способа доставки (курьер, самовывоз, почта)
- Выбор способа оплаты (карта, наличные, рассрочка)
- Расчет стоимости доставки
- Подтверждение заказа с отправкой email

---

### 2.3 User Story: Отслеживание заказов

**Как** покупатель,  
**Я хочу** отслеживать статус своих заказов,  
**Чтобы** знать, когда ожидать доставку.

**Use Cases:**
- UC8: Отслеживание заказа
- UC14: Просмотр истории заказов
- UC23: Отслеживание доставки

**Acceptance Criteria:**
- Отображение текущего статуса заказа
- История изменения статусов
- Трек-номер для отслеживания
- Уведомления об изменении статуса
- Возможность связаться со службой поддержки

---

### 2.4 User Story: Отмена заказа

**Как** покупатель,  
**Я хочу** отменить заказ до его отправки,  
**Чтобы** вернуть деньги за ненужную покупку.

**Use Cases:**
- UC9: Отмена заказа

**Acceptance Criteria:**
- Отмена возможна только до отправки товара
- Автоматический возврат средств
- Уведомление об отмене заказа
- Возврат товара в доступный остаток

---

### 2.5 User Story: Управление профилем

**Как** покупатель,  
**Я хочу** управлять своим профилем и сохраненными адресами,  
**Чтобы** упростить процесс оформления заказов.

**Use Cases:**
- UC12: Авторизация
- UC13: Управление профилем

**Acceptance Criteria:**
- Изменение личных данных
- Управление адресами доставки
- Изменение пароля
- Настройки уведомлений
- Возможность удалить аккаунт

---

### 2.6 User Story: Написание отзывов

**Как** покупатель,  
**Я хочу** оставлять отзывы о купленных товарах,  
**Чтобы** поделиться опытом с другими покупателями.

**Use Cases:**
- UC16: Написание отзыва

**Acceptance Criteria:**
- Отзыв можно оставить только на купленный товар
- Обязательный рейтинг (1-5 звезд)
- Текстовое описание плюсов и минусов
- Возможность загрузить фото (до 10 штук)
- Отзыв проходит модерацию перед публикацией

---

### 2.7 User Story: Подтверждение получения

**Как** покупатель,  
**Я хочу** подтвердить получение заказа,  
**Чтобы** завершить транзакцию.

**Use Cases:**
- UC24: Подтверждение получения

**Acceptance Criteria:**
- Возможность подтвердить получение в личном кабинете
- Отправка кода подтверждения курьеру
- Автоматическое подтверждение при самовывозе
- После подтверждения можно оставить отзыв

---

## 3. Действующее лицо: Администратор (Admin)

### 3.1 User Story: Управление каталогом товаров

**Как** администратор,  
**Я хочу** управлять каталогом товаров,  
**Чтобы** поддерживать актуальную информацию о товарах.

**Use Cases:**
- UC18: Управление каталогом

**Acceptance Criteria:**
- CRUD операции для товаров
- Массовый импорт товаров из CSV/Excel
- Управление категориями и брендами
- Загрузка множественных изображений
- Управление характеристиками товаров
- Управление остатками на складе

---

### 3.2 User Story: Управление пользователями

**Как** администратор,  
**Я хочу** управлять пользователями системы,  
**Чтобы** контролировать доступ и роли.

**Use Cases:**
- UC19: Управление пользователями

**Acceptance Criteria:**
- Просмотр списка всех пользователей
- Блокировка/разблокировка пользователей
- Назначение ролей (Customer, Manager, Admin)
- Просмотр истории действий пользователя
- Сброс пароля пользователя

---

### 3.3 User Story: Модерация отзывов

**Как** администратор,  
**Я хочу** модерировать отзывы пользователей,  
**Чтобы** контролировать качество контента на сайте.

**Use Cases:**
- UC17: Модерация отзывов

**Acceptance Criteria:**
- Просмотр отзывов на модерации
- Одобрение/отклонение отзывов
- Редактирование отзывов (удаление ненормативной лексики)
- Удаление отзывов
- Причина отклонения отправляется пользователю

---

### 3.4 User Story: Обработка заказов

**Как** администратор,  
**Я хочу** обрабатывать заказы клиентов,  
**Чтобы** обеспечить их своевременную доставку.

**Use Cases:**
- UC10: Обработка заказа

**Acceptance Criteria:**
- Просмотр всех заказов с фильтрацией по статусу
- Изменение статуса заказа
- Назначение курьера
- Печать накладных
- Отправка уведомлений клиенту

---

### 3.5 User Story: Настройка системы

**Как** администратор,  
**Я хочу** настраивать параметры системы,  
**Чтобы** адаптировать ее под нужды бизнеса.

**Use Cases:**
- UC20: Настройка системы

**Acceptance Criteria:**
- Настройка способов доставки и тарифов
- Настройка способов оплаты
- Настройка email-шаблонов
- Настройка налогов и комиссий
- Управление баннерами и акциями

---

### 3.6 User Story: Просмотр аналитики

**Как** администратор,  
**Я хочу** просматривать аналитику продаж,  
**Чтобы** принимать бизнес-решения.

**Use Cases:**
- UC21: Просмотр аналитики

**Acceptance Criteria:**
- Статистика продаж по периодам
- Отчеты по популярным товарам
- Статистика по регионам
- Конверсия воронки продаж
- Отчеты по отзывам и рейтингам
- Экспорт отчетов в Excel/PDF

---

## 4. Действующее лицо: Менеджер (Manager)

### 4.1 User Story: Обработка заказов

**Как** менеджер,  
**Я хочу** обрабатывать заказы клиентов,  
**Чтобы** обеспечить качественное обслуживание.

**Use Cases:**
- UC10: Обработка заказа

**Acceptance Criteria:**
- Просмотр новых заказов
- Подтверждение заказов
- Связь с клиентом по заказу
- Изменение состава заказа по согласованию
- Перевод заказа на доставку

---

### 4.2 User Story: Модерация отзывов

**Как** менеджер,  
**Я хочу** модерировать отзывы,  
**Чтобы** поддерживать качество контента.

**Use Cases:**
- UC17: Модерация отзывов

**Acceptance Criteria:**
- Просмотр отзывов на модерации
- Одобрение отзывов
- Отклонение неуместных отзывов
- Ответы на отзывы от имени магазина

---

### 4.3 User Story: Просмотр аналитики

**Как** менеджер,  
**Я хочу** просматривать отчеты о продажах,  
**Чтобы** оценивать эффективность работы.

**Use Cases:**
- UC21: Просмотр аналитики

**Acceptance Criteria:**
- Просмотр своих показателей работы
- Статистика обработанных заказов
- Время обработки заказов
- Отчеты по отзывам

---

## 5. Действующее лицо: Курьер (Courier)

### 5.1 User Story: Отслеживание доставок

**Как** курьер,  
**Я хочу** просматривать назначенные мне доставки,  
**Чтобы** планировать маршрут.

**Use Cases:**
- UC23: Отслеживание доставки

**Acceptance Criteria:**
- Список назначенных доставок на день
- Информация о заказе и адресе
- Контактные данные клиента
- Навигация по адресу
- Обновление статуса доставки

---

### 5.2 User Story: Подтверждение доставки

**Как** курьер,  
**Я хочу** подтверждать доставку заказа,  
**Чтобы** завершить процесс доставки.

**Use Cases:**
- UC24: Подтверждение получения

**Acceptance Criteria:**
- Ввод кода подтверждения от клиента
- Возможность сделать фото при доставке
- Отметка о неудачной доставке с причиной
- Автоматическое обновление статуса заказа

---

## Матрица соответствия

| Действующее лицо | User Stories | Use Cases |
|-----------------|--------------|-----------|
| **Гость** | Поиск товаров<br>Просмотр отзывов<br>Регистрация | UC1-UC5, UC15, UC11 |
| **Покупатель** | Управление корзиной<br>Оформление заказа<br>Отслеживание заказов<br>Отмена заказа<br>Управление профилем<br>Написание отзывов<br>Подтверждение получения | UC6-UC9, UC12-UC14, UC16, UC22-UC24 |
| **Администратор** | Управление каталогом<br>Управление пользователями<br>Модерация отзывов<br>Обработка заказов<br>Настройка системы<br>Просмотр аналитики | UC10, UC17-UC21 |
| **Менеджер** | Обработка заказов<br>Модерация отзывов<br>Просмотр аналитики | UC10, UC17, UC21 |
| **Курьер** | Отслеживание доставок<br>Подтверждение доставки | UC23, UC24 |

---

## Приоритизация требований (MoSCoW)

### Must Have (Обязательные)
- UC1: Просмотр каталога
- UC2: Поиск товаров
- UC4: Просмотр карточки товара
- UC6: Добавление в корзину
- UC7: Оформление заказа
- UC11: Регистрация
- UC12: Авторизация
- UC18: Управление каталогом

### Should Have (Важные)
- UC3: Фильтрация товаров
- UC8: Отслеживание заказа
- UC9: Отмена заказа
- UC10: Обработка заказа
- UC13: Управление профилем
- UC14: Просмотр истории заказов
- UC15: Чтение отзывов
- UC16: Написание отзыва
- UC19: Управление пользователями

### Could Have (Желательные)
- UC5: Сравнение товаров
- UC17: Модерация отзывов
- UC20: Настройка системы
- UC21: Просмотр аналитики
- UC22: Выбор способа доставки
- UC23: Отслеживание доставки

### Won't Have (На будущее)
- UC24: Подтверждение получения
- Интеграция с социальными сетями
- Программа лояльности
- Чат-бот поддержки
- Мобильное приложение (native)

---

## Нефункциональные требования

### Производительность
- Время загрузки главной страницы < 2 секунд
- Время отклика API < 500 мс
- Поддержка 1000 одновременных пользователей
- Время поиска товаров < 1 секунды

### Безопасность
- Шифрование паролей (bcrypt)
- HTTPS для всех соединений
- Защита от SQL-инъекций
- Защита от XSS атак
- CORS политика для API
- Rate limiting для API

### Надежность
- Доступность системы 99.5%
- Автоматическое резервное копирование БД
- Обработка ошибок с понятными сообщениями
- Логирование всех критических операций

### Удобство использования
- Адаптивный дизайн (mobile-first)
- Поддержка современных браузеров
- Интуитивная навигация
- Поддержка русского и английского языков
- Доступность (WCAG 2.1 Level AA)

### Масштабируемость
- Микросервисная архитектура
- Горизонтальное масштабирование
- Кэширование с Redis
- CDN для статических ресурсов
- Оптимизация запросов к БД

---

## Зависимости и ограничения

### Технические ограничения
- PostgreSQL 14+ для основной БД
- Redis 6+ для кэширования
- Elasticsearch 8+ для полнотекстового поиска
- Node.js 18+ / Python 3.11+ для backend
- React 18+ для frontend

### Бизнес-ограничения
- Соответствие законодательству РФ
- Интеграция с платежными системами (ЮKassa, Сбербанк)
- Интеграция со службами доставки (СДЭК, Почта России)
- Соблюдение требований ФЗ-152 о персональных данных

### Внешние зависимости
- Email-сервис для уведомлений
- SMS-шлюз для подтверждений
- Сервис геолокации для адресов
- Сервис аналитики (Google Analytics, Яндекс.Метрика)

---

*Документ создан в рамках Лабораторной работы №4*  
*Курс: Проектирование человеко-машинных интерфейсов*  
*Проект: ТехноМарт - Интернет-магазин электроники*

