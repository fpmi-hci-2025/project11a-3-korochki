# Реестр вариантов использования - ТехноМарт

## Таблица соответствия: Актер → User Story → Use Case

| ID | Актер | User Story | Use Case | Приоритет | Статус |
|----|-------|------------|----------|-----------|--------|
| **Модуль: Каталог товаров** |
| UC-001 | Гость, Покупатель | Как пользователь, я хочу просматривать каталог товаров | UC1: Просмотр каталога | Must Have | Активен |
| UC-002 | Гость, Покупатель | Как пользователь, я хочу искать товары по различным параметрам | UC2: Поиск товаров | Must Have | Активен |
| UC-003 | Гость, Покупатель | Как пользователь, я хочу фильтровать товары по категориям, цене, бренду | UC3: Фильтрация товаров | Should Have | Активен |
| UC-004 | Гость, Покупатель | Как пользователь, я хочу просматривать детальную информацию о товаре | UC4: Просмотр карточки товара | Must Have | Активен |
| UC-005 | Гость, Покупатель | Как пользователь, я хочу сравнивать характеристики товаров | UC5: Сравнение товаров | Could Have | Активен |
| **Модуль: Управление заказами** |
| UC-006 | Покупатель | Как покупатель, я хочу добавлять товары в корзину | UC6: Добавление в корзину | Must Have | Активен |
| UC-007 | Покупатель | Как покупатель, я хочу оформить заказ с выбором доставки и оплаты | UC7: Оформление заказа | Must Have | Активен |
| UC-008 | Покупатель | Как покупатель, я хочу отслеживать статус своих заказов | UC8: Отслеживание заказа | Should Have | Активен |
| UC-009 | Покупатель | Как покупатель, я хочу отменить заказ до его отправки | UC9: Отмена заказа | Should Have | Активен |
| UC-010 | Администратор, Менеджер | Как менеджер, я хочу обрабатывать заказы клиентов | UC10: Обработка заказа | Should Have | Активен |
| **Модуль: Пользователи** |
| UC-011 | Гость | Как гость, я хочу зарегистрироваться в системе | UC11: Регистрация | Must Have | Активен |
| UC-012 | Покупатель | Как пользователь, я хочу авторизоваться в системе | UC12: Авторизация | Must Have | Активен |
| UC-013 | Покупатель | Как покупатель, я хочу управлять своим профилем | UC13: Управление профилем | Should Have | Активен |
| UC-014 | Покупатель | Как покупатель, я хочу просматривать историю своих заказов | UC14: Просмотр истории заказов | Should Have | Активен |
| **Модуль: Отзывы и рейтинги** |
| UC-015 | Гость, Покупатель | Как пользователь, я хочу читать отзывы о товарах | UC15: Чтение отзывов | Should Have | Активен |
| UC-016 | Покупатель | Как покупатель, я хочу оставлять отзывы о купленных товарах | UC16: Написание отзыва | Should Have | Активен |
| UC-017 | Администратор, Менеджер | Как модератор, я хочу модерировать отзывы пользователей | UC17: Модерация отзывов | Could Have | Активен |
| **Модуль: Администрирование** |
| UC-018 | Администратор | Как администратор, я хочу управлять каталогом товаров | UC18: Управление каталогом | Must Have | Активен |
| UC-019 | Администратор | Как администратор, я хочу управлять пользователями системы | UC19: Управление пользователями | Should Have | Активен |
| UC-020 | Администратор | Как администратор, я хочу настраивать параметры системы | UC20: Настройка системы | Could Have | Активен |
| UC-021 | Администратор, Менеджер | Как менеджер, я хочу просматривать аналитику продаж | UC21: Просмотр аналитики | Could Have | Активен |
| **Модуль: Доставка** |
| UC-022 | Покупатель | Как покупатель, я хочу выбрать способ доставки | UC22: Выбор способа доставки | Could Have | Активен |
| UC-023 | Покупатель, Курьер | Как курьер, я хочу отслеживать назначенные доставки | UC23: Отслеживание доставки | Could Have | Активен |
| UC-024 | Покупатель, Курьер | Как курьер, я хочу подтверждать доставку заказа | UC24: Подтверждение получения | Won't Have | Планируется |

---

## Детальное описание Use Cases

### UC1: Просмотр каталога

**Актеры:** Гость, Покупатель  
**Описание:** Просмотр товаров в каталоге с возможностью навигации по категориям  
**Предусловия:** Пользователь находится на сайте  
**Постусловия:** Отображен список товаров  

**Основной поток:**
1. Пользователь открывает главную страницу
2. Система отображает список категорий и популярных товаров
3. Пользователь выбирает категорию
4. Система отображает товары выбранной категории
5. Пользователь может просмотреть товары в виде сетки или списка

**Альтернативные потоки:**
- 3a. Пользователь выбирает подкатегорию → возврат к шагу 4

---

### UC2: Поиск товаров

**Актеры:** Гость, Покупатель  
**Описание:** Поиск товаров по названию, описанию, характеристикам  
**Предусловия:** Пользователь находится на сайте  
**Постусловия:** Отображены результаты поиска  

**Основной поток:**
1. Пользователь вводит поисковый запрос
2. Система обрабатывает запрос
3. Система ищет товары в БД и Elasticsearch
4. Система отображает результаты с подсветкой найденных слов
5. Пользователь просматривает результаты

**Альтернативные потоки:**
- 3a. Ничего не найдено → предложение похожих товаров

---

### UC3: Фильтрация товаров

**Актеры:** Гость, Покупатель  
**Описание:** Применение фильтров к списку товаров  
**Предусловия:** Отображен список товаров  
**Постусловия:** Отображены отфильтрованные товары  

**Основной поток:**
1. Пользователь выбирает параметры фильтрации
2. Система применяет фильтры
3. Система отображает отфильтрованные результаты
4. Отображается количество найденных товаров

**Параметры фильтрации:**
- Цена (от-до)
- Бренд
- Наличие на складе
- Рейтинг
- Характеристики (специфичные для категории)

---

### UC4: Просмотр карточки товара

**Актеры:** Гость, Покупатель  
**Описание:** Просмотр детальной информации о товаре  
**Предусловия:** Пользователь находится в каталоге  
**Постусловия:** Отображена информация о товаре  

**Основной поток:**
1. Пользователь выбирает товар
2. Система загружает детальную информацию
3. Система отображает:
   - Название и описание
   - Изображения (галерея)
   - Цену и скидки
   - Характеристики
   - Наличие на складе
   - Отзывы и рейтинг
   - Похожие товары

---

### UC5: Сравнение товаров

**Актеры:** Гость, Покупатель  
**Описание:** Сравнение характеристик нескольких товаров  
**Предусловия:** Пользователь находится в каталоге  
**Постусловия:** Отображена таблица сравнения  

**Основной поток:**
1. Пользователь добавляет товары к сравнению (до 5 шт)
2. Пользователь переходит на страницу сравнения
3. Система отображает таблицу с характеристиками
4. Различающиеся характеристики выделяются
5. Пользователь может удалить товары из сравнения

---

### UC6: Добавление в корзину

**Актеры:** Покупатель  
**Описание:** Добавление товара в корзину  
**Предусловия:** Пользователь авторизован  
**Постусловия:** Товар добавлен в корзину  

**Основной поток:**
1. Пользователь выбирает количество товара
2. Пользователь нажимает "Добавить в корзину"
3. Система проверяет наличие на складе
4. Система добавляет товар в корзину
5. Система отображает уведомление об успешном добавлении
6. Обновляется счетчик товаров в корзине

**Альтернативные потоки:**
- 3a. Недостаточно товара на складе → сообщение об ограничении количества

---

### UC7: Оформление заказа

**Актеры:** Покупатель  
**Описание:** Оформление заказа с выбором доставки и оплаты  
**Предусловия:** В корзине есть товары  
**Постусловия:** Заказ создан  

**Основной поток:**
1. Пользователь переходит к оформлению
2. Система отображает форму заказа
3. Пользователь выбирает/вводит адрес доставки
4. Пользователь выбирает способ доставки
5. Система рассчитывает стоимость доставки
6. Пользователь выбирает способ оплаты
7. Пользователь подтверждает заказ
8. Система создает заказ в БД
9. Система отправляет email подтверждение
10. Система перенаправляет на страницу успеха

**Альтернативные потоки:**
- 3a. Товар закончился → уведомление и удаление из корзины
- 7a. Ошибка оплаты → возврат к выбору способа оплаты

---

### UC8: Отслеживание заказа

**Актеры:** Покупатель  
**Описание:** Отслеживание статуса заказа  
**Предусловия:** Заказ создан  
**Постусловия:** Отображена информация о статусе  

**Основной поток:**
1. Пользователь переходит в "Мои заказы"
2. Система отображает список заказов
3. Пользователь выбирает заказ
4. Система отображает детали заказа:
   - Текущий статус
   - История статусов
   - Состав заказа
   - Информация о доставке
   - Трек-номер

**Статусы заказа:**
- Создан
- Подтвержден
- Собирается
- Передан в доставку
- В пути
- Доставлен
- Отменен

---

### UC9: Отмена заказа

**Актеры:** Покупатель  
**Описание:** Отмена заказа клиентом  
**Предусловия:** Заказ создан и еще не отправлен  
**Постусловия:** Заказ отменен  

**Основной поток:**
1. Пользователь открывает детали заказа
2. Пользователь нажимает "Отменить заказ"
3. Система запрашивает причину отмены
4. Пользователь указывает причину
5. Система проверяет возможность отмены
6. Система отменяет заказ
7. Система возвращает товары в наличие
8. Система инициирует возврат средств
9. Система отправляет уведомление

**Альтернативные потоки:**
- 5a. Заказ уже отправлен → отмена невозможна

---

### UC10: Обработка заказа

**Актеры:** Администратор, Менеджер  
**Описание:** Обработка заказа менеджером  
**Предусловия:** Есть новые заказы  
**Постусловия:** Заказ обработан  

**Основной поток:**
1. Менеджер открывает список заказов
2. Менеджер выбирает заказ
3. Менеджер проверяет наличие товаров
4. Менеджер подтверждает заказ
5. Система обновляет статус на "Подтвержден"
6. Менеджер формирует накладную
7. Менеджер передает заказ на сборку
8. Система отправляет уведомление клиенту

**Альтернативные потоки:**
- 3a. Товара нет → связь с клиентом для замены/отмены

---

### UC11: Регистрация

**Актеры:** Гость  
**Описание:** Регистрация нового пользователя  
**Предусловия:** Пользователь не авторизован  
**Постусловия:** Создан новый аккаунт  

**Основной поток:**
1. Пользователь нажимает "Регистрация"
2. Система отображает форму регистрации
3. Пользователь заполняет форму:
   - Email
   - Пароль
   - Имя, Фамилия
   - Телефон
4. Система проверяет уникальность email
5. Система валидирует данные
6. Система создает аккаунт
7. Система отправляет письмо подтверждения
8. Пользователь подтверждает email
9. Система активирует аккаунт

**Альтернативные потоки:**
- 4a. Email уже существует → сообщение об ошибке
- 5a. Невалидные данные → подсветка ошибок

---

### UC12: Авторизация

**Актеры:** Покупатель  
**Описание:** Вход в систему  
**Предусловия:** Пользователь зарегистрирован  
**Постусловия:** Пользователь авторизован  

**Основной поток:**
1. Пользователь нажимает "Войти"
2. Система отображает форму входа
3. Пользователь вводит email и пароль
4. Система проверяет credentials
5. Система создает сессию
6. Система перенаправляет на главную страницу

**Альтернативные потоки:**
- 4a. Неверные данные → сообщение об ошибке
- 4b. Аккаунт заблокирован → сообщение о блокировке

---

### UC13: Управление профилем

**Актеры:** Покупатель  
**Описание:** Редактирование профиля пользователя  
**Предусловия:** Пользователь авторизован  
**Постусловия:** Профиль обновлен  

**Основной поток:**
1. Пользователь открывает профиль
2. Система отображает текущие данные
3. Пользователь редактирует данные
4. Пользователь сохраняет изменения
5. Система валидирует данные
6. Система обновляет профиль
7. Система отображает подтверждение

**Разделы профиля:**
- Личные данные
- Адреса доставки
- Изменение пароля
- Настройки уведомлений

---

### UC14: Просмотр истории заказов

**Актеры:** Покупатель  
**Описание:** Просмотр всех заказов пользователя  
**Предусловия:** Пользователь авторизован  
**Постусловия:** Отображена история заказов  

**Основной поток:**
1. Пользователь открывает "Мои заказы"
2. Система загружает список заказов
3. Система отображает заказы с:
   - Номером заказа
   - Датой
   - Статусом
   - Суммой
4. Пользователь может фильтровать по статусу
5. Пользователь может открыть детали заказа

---

### UC15: Чтение отзывов

**Актеры:** Гость, Покупатель  
**Описание:** Просмотр отзывов о товаре  
**Предусловия:** Открыта карточка товара  
**Постусловия:** Отображены отзывы  

**Основной поток:**
1. Пользователь открывает раздел отзывов
2. Система загружает отзывы
3. Система отображает:
   - Общий рейтинг
   - Распределение оценок
   - Список отзывов
4. Пользователь может сортировать отзывы
5. Пользователь может фильтровать по рейтингу

**Сортировки:**
- По полезности
- По дате (новые/старые)
- По рейтингу

---

### UC16: Написание отзыва

**Актеры:** Покупатель  
**Описание:** Написание отзыва о товаре  
**Предусловия:** Пользователь купил товар  
**Постусловия:** Отзыв отправлен на модерацию  

**Основной поток:**
1. Пользователь открывает товар
2. Пользователь нажимает "Написать отзыв"
3. Система проверяет право на отзыв
4. Система отображает форму отзыва
5. Пользователь заполняет:
   - Рейтинг (1-5 звезд)
   - Заголовок
   - Текст отзыва
   - Плюсы и минусы
   - Фото (опционально)
6. Пользователь отправляет отзыв
7. Система сохраняет со статусом "На модерации"
8. Система отображает подтверждение

**Альтернативные потоки:**
- 3a. Товар не куплен → сообщение об ограничении

---

### UC17: Модерация отзывов

**Актеры:** Администратор, Менеджер  
**Описание:** Модерация отзывов пользователей  
**Предусловия:** Есть отзывы на модерации  
**Постусловия:** Отзыв одобрен/отклонен  

**Основной поток:**
1. Модератор открывает панель модерации
2. Система отображает отзывы на модерации
3. Модератор просматривает отзыв
4. Модератор принимает решение:
   - Одобрить
   - Отклонить
   - Запросить правки
5. Система обновляет статус отзыва
6. Система уведомляет автора

---

### UC18: Управление каталогом

**Актеры:** Администратор  
**Описание:** Управление товарами в каталоге  
**Предусловия:** Администратор авторизован  
**Постусловия:** Каталог обновлен  

**Основной поток:**
1. Администратор открывает админ-панель
2. Администратор выбирает "Каталог"
3. Система отображает список товаров
4. Администратор выбирает действие:
   - Добавить товар
   - Редактировать товар
   - Удалить товар
5. При добавлении/редактировании:
   - Заполнение информации
   - Загрузка изображений
   - Указание характеристик
   - Установка цены и остатков
6. Администратор сохраняет изменения
7. Система обновляет каталог
8. Система индексирует товар в Elasticsearch

---

### UC19: Управление пользователями

**Актеры:** Администратор  
**Описание:** Управление пользователями системы  
**Предусловия:** Администратор авторизован  
**Постусловия:** Пользователи обновлены  

**Основной поток:**
1. Администратор открывает "Пользователи"
2. Система отображает список пользователей
3. Администратор может:
   - Просмотреть детали пользователя
   - Заблокировать/разблокировать
   - Изменить роль
   - Сбросить пароль
4. Администратор выполняет действие
5. Система обновляет данные
6. Система уведомляет пользователя (при необходимости)

---

### UC20: Настройка системы

**Актеры:** Администратор  
**Описание:** Настройка параметров системы  
**Предусловия:** Администратор авторизован  
**Постусловия:** Настройки обновлены  

**Основной поток:**
1. Администратор открывает "Настройки"
2. Система отображает разделы настроек
3. Администратор редактирует настройки
4. Администратор сохраняет изменения
5. Система применяет настройки

**Разделы настроек:**
- Способы доставки и тарифы
- Способы оплаты
- Email-шаблоны
- Налоги и комиссии
- Баннеры и акции

---

### UC21: Просмотр аналитики

**Актеры:** Администратор, Менеджер  
**Описание:** Просмотр отчетов и аналитики  
**Предусловия:** Пользователь авторизован с правами  
**Постусловия:** Отображены отчеты  

**Основной поток:**
1. Пользователь открывает "Аналитика"
2. Система отображает дашборд
3. Пользователь выбирает тип отчета
4. Пользователь задает параметры:
   - Период
   - Категории
   - Регионы
5. Система генерирует отчет
6. Система отображает визуализацию
7. Пользователь может экспортировать отчет

**Типы отчетов:**
- Продажи по периодам
- Популярные товары
- География продаж
- Конверсия воронки
- Отзывы и рейтинги

---

### UC22: Выбор способа доставки

**Актеры:** Покупатель  
**Описание:** Выбор способа доставки при оформлении  
**Предусловия:** Оформляется заказ  
**Постусловия:** Способ доставки выбран  

**Основной поток:**
1. Система отображает доступные способы доставки
2. Пользователь выбирает способ:
   - Курьерская доставка
   - Самовывоз из пункта
   - Почта России
3. Система рассчитывает стоимость
4. Система показывает срок доставки
5. Пользователь подтверждает выбор

---

### UC23: Отслеживание доставки

**Актеры:** Покупатель, Курьер  
**Описание:** Отслеживание процесса доставки  
**Предусловия:** Заказ передан в доставку  
**Постусловия:** Отображен статус доставки  

**Основной поток:**
1. Пользователь открывает заказ
2. Система отображает информацию о доставке:
   - Текущий статус
   - Трек-номер
   - Предполагаемая дата
   - Контакты курьера
3. Пользователь может перейти на сайт службы доставки
4. Система отображает карту с местоположением (если доступно)

---

### UC24: Подтверждение получения

**Актеры:** Покупатель, Курьер  
**Описание:** Подтверждение получения заказа  
**Предусловия:** Заказ доставлен  
**Постусловия:** Доставка подтверждена  

**Основной поток:**
1. Курьер прибывает по адресу
2. Курьер передает заказ клиенту
3. Клиент проверяет комплектность
4. Клиент вводит код подтверждения
5. Курьер вводит код в приложение
6. Система подтверждает доставку
7. Система обновляет статус заказа
8. Система предлагает оставить отзыв

---

*Реестр вариантов использования v1.0*  
*Лабораторная работа №4*  
*Проект: ТехноМарт*

